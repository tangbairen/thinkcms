<extend name="Public:base"/>
<block name="title">导入数据</block>
<block name="content">
    <style>
        .form-group>label[class*="col-"] {padding-top: 10px;}
        .col-xs-12 table{text-align: center;}
        .col-xs-12 table tr th{text-align: center; margin-top: 20px;}
        .file {
            position: relative;
            display: inline-block;
            background: #009688;
            border-radius: 4px;
            padding: 4px 12px;
            overflow: hidden;
            color: #fff;
            text-decoration: none;
            text-indent: 0;
            line-height: 30px;
        }
        .file input {
            position: absolute;
            font-size: 100px;
            right: 0;
            top: 0;
            opacity: 0;
        }
        .file:hover {
            background: #078375;
            border-color: #78C3F3;
            color: #fff;
            text-decoration: none;
        }
        .formdata{width: 100%;height: 100px;}

    </style>
    <div class="page-header">
        <p><i class="fa fa-home"></i> 首页 &gt; 导入数据 </p>
    </div>
    <div class="col-xs-12">
        <div class="formdata">
            <form action="" enctype="multipart/form-data" id="uploadForm">
                <input type="file" id="myfile" name="myfile"><span>(限制不能超过100行数据，且文件大小不能大于2M)</span>
                <br>
                <button type="button" class="layui-btn" id="test9" onclick="check()">开始上传</button>
            </form>
        </div>
        <hr>
        <div class="layui-form">
            <table class="layui-table">
                <colgroup>
                    <col width="150">
                    <col width="150">
                    <col width="200">
                    <col>
                </colgroup>
                <thead>
                <tr>
                    <th>人物</th>
                    <th>民族</th>
                    <th>出场时间</th>
                    <th>格言</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>贤心</td>
                    <td>汉族</td>
                    <td>1989-10-14</td>
                    <td>人生似修行</td>
                </tr>

                </tbody>
            </table>
        </div>
    </div>
<block name="js">
    <script>

        function check(){
            var myfile=$('#myfile').val();
            if(myfile == ''){
                layer.msg('请选择上传的Excel 表格');
                return false;
            }
            var formData = new FormData($("#uploadForm" )[0]);
            console.log(formData);

            $.ajax({
                type:"post",
                url:"{:U('handler/addExcel')}",
                data: formData,
                async: false,
                cache: false,
                contentType: false,
                processData: false,
                success: function(data){

                }

            });
        }
    </script>
</block>

</block>